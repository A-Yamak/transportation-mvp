# ==============================================================================
# Al-Sabiqoon - Staging Secrets Template
# ==============================================================================
#
# IMPORTANT: NEVER commit actual secrets to version control!
#
# Staging secrets should be different from production for security isolation.
# Use test/staging credentials from your service providers.
#
# See production/secrets.yaml.example for detailed documentation on:
#   - Sealed Secrets for GitOps
#   - External Secrets Operator
#   - Best practices
#
# ==============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: backend-secrets
  labels:
    app: alsabiqoon
    component: backend
    environment: staging
type: Opaque
stringData:
  # -----------------------------------------------------------------------------
  # Application Secrets
  # -----------------------------------------------------------------------------
  APP_KEY: "base64:REPLACE_WITH_STAGING_KEY_HERE"

  # -----------------------------------------------------------------------------
  # Database Secrets
  # -----------------------------------------------------------------------------
  # Use a separate staging database
  DB_USERNAME: "alsabiqoon_staging"
  DB_PASSWORD: "REPLACE_WITH_STAGING_PASSWORD"

  # -----------------------------------------------------------------------------
  # Redis Secrets
  # -----------------------------------------------------------------------------
  REDIS_PASSWORD: ""

  # -----------------------------------------------------------------------------
  # OAuth2 / Passport Secrets
  # -----------------------------------------------------------------------------
  # Generate separate keys for staging
  PASSPORT_PRIVATE_KEY: |
    -----BEGIN RSA PRIVATE KEY-----
    REPLACE_WITH_STAGING_PRIVATE_KEY
    -----END RSA PRIVATE KEY-----
  PASSPORT_PUBLIC_KEY: |
    -----BEGIN PUBLIC KEY-----
    REPLACE_WITH_STAGING_PUBLIC_KEY
    -----END PUBLIC KEY-----

  # -----------------------------------------------------------------------------
  # Mail Secrets (Use sandbox/test mode)
  # -----------------------------------------------------------------------------
  MAIL_HOST: "smtp.mailtrap.io"
  MAIL_PORT: "587"
  MAIL_USERNAME: "REPLACE_WITH_MAILTRAP_USERNAME"
  MAIL_PASSWORD: "REPLACE_WITH_MAILTRAP_PASSWORD"
  MAIL_ENCRYPTION: "tls"

  # -----------------------------------------------------------------------------
  # Cloudflare R2 Secrets (Use staging bucket)
  # -----------------------------------------------------------------------------
  CLOUDFLARE_R2_ACCESS_KEY_ID: "REPLACE_WITH_R2_ACCESS_KEY"
  CLOUDFLARE_R2_SECRET_ACCESS_KEY: "REPLACE_WITH_R2_SECRET_KEY"
  CLOUDFLARE_R2_ENDPOINT: "https://ACCOUNT_ID.r2.cloudflarestorage.com"
  CLOUDFLARE_R2_URL: "https://staging-assets.alsabiqoon.com"
